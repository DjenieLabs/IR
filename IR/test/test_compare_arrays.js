/*
 * Test the protocol-decoder
 * by Roger Camargo - Dez 2016
 */
var assert = require('assert');

var requirejs = require('requirejs');
requirejs.config({
  baseUrl: __dirname + '/../libs/',
  catchError: true
});

var Decoder = requirejs('protocol-decoder');

describe("IR.Decoder", function() {

    /* Test 1
     * Using the same data from the SAMSUNG REMOTE CONTROL - Button Volume +
     */
    it('Compares the same buffer twice (Volume Up)', function(done) {

      // Data 1 from Volume +
      // BB01010100000000000101010000000000010101000000000000000001010101010 35 10000 3 01010100000000000101010000
      var volumeUp_data1 = ["4345","4345","395","395","395","395","395","395","395","395","395","1185","395","1185","395","395","395","395","395","1185","395","1185","395","1185","395","1185","395","395","395","395","395","395","395","395","395","4345","395","395","395","395","395","395","395","395","395","1185","395","1185","395","1185","395","395","395","1185","395","1185","395","1185","395","395","395","395","395","395","395","395","395","1185","395","395","395","395","395","395","395","1185","395","54905","4345","4345","395","395","395","395","395","395","395","395","395","1185","395","1185","395","395","395","395","395","1185","395","1185","395","1185","395","1185","395","395","395","395","395","395","395","395","395","4345","395","395","395","395","395","395","395","395","395","1185","395","1185","395","1185","395","395","395","1185","395","1185","395","1185","395","395","395","395","395","395","395","395","395","1185","395","395","395","395","395","395","395","1185","395","54905","4345","4345","395","395","395","395","395","395","395","395","395","1185","395","1185","395","395","395","395","395","1185","395","1185","395","1185","395","1185","395","395","395","395","395","395","395","395","395","4345"];

      assert.equal(true, Decoder.compareRawArrays(volumeUp_data1, volumeUp_data1));

      done();
      
    });

    

    /**
     * Test 2
     * Channel Up
     */
    it('Compares multiple buffers of the same button (Channel +)', function(done) {
      // Length: 135
      var channelUp_data1 = ["4080", "4080", "510", "1530", "510", "1530", "510", "1530", "510", "510", 
                            "510", "510", "510", "510", "510", "510", "510", "510", "510", "1530", 
                            "510", "1530", "510", "1530", "510", "510", "510", "510", "510", "510", 
                            "510", "510", "510", "510", "510", "510", "510", "1530", "510", "510", 
                            "510", "510", "510", "1530", "510", "510", "510", "510", "510", "510", 
                            "510", "1530", "510", "510", "510", "1530", "510", "1530", "510", "510", 
                            "510", "1530", "510", "1530", "510", "1530", "510", "46410", "4080", "4080", 
                            "510", "1530", "510", "1530", "510", "1530", "510", "510", "510", "510", 
                            "510", "510", "510", "510", "510", "510", "510", "1530", "510", "1530", 
                            "510", "1530", "510", "510", "510", "510", "510", "510", "510", "510",
                            "510", "510", "510", "510", "510", "1530", "510", "510", "510", "510", 
                            "510", "1530", "510", "510", "510", "510", "510", "510", "510", "1530", 
                            "510", "510", "510", "1530", "510", "1530", "510", "510", "510", "1530", 
                            "510", "1530", "510", "1530", "510"];
      // Length: 135
      var channelUp_data2 = ["4008", "4008", "501", "1503", "501", "1503", "501", "1503", "501", "501", 
                            "501", "501", "501", "501", "501", "501", "501", "501", "501", "1503", 
                            "501", "1503", "501", "1503", "501", "501", "501", "501", "501", "501", 
                            "501", "501", "501", "501", "501", "501", "501", "1503", "501", "501", 
                            "501", "501", "501", "1503", "501", "501", "501", "501", "501", "501", 
                            "501", "1503", "501", "501", "501", "1503", "501", "1503", "501", "501", 
                            "501", "1503", "501", "1503", "501", "1503", "501", "46593", "4008", "4008", 
                            "501", "1503", "501", "1503", "501", "1503", "501", "501", "501", "501", 
                            "501", "501", "501", "501", "501", "501", "501", "1503", "501", "1503", 
                            "501", "1503", "501", "501", "501", "501", "501", "501", "501", "501",
                            "501", "501", "501", "501", "501", "1503", "501", "501", "501", "501", 
                            "501", "1503", "501", "501", "501", "501", "501", "501", "501", "1503", 
                            "501", "501", "501", "1503", "501", "1503", "501", "501", "501", "1503", 
                            "501", "1503", "501", "1503", "501"];

       var channelUp_data3 = ["4473", "3976", "497", "1491", "497", "1491", "497", "1491", "497", "497", 
                              "497", "497", "497", "497", "497", "497", "497", "497", "497", "1491", 
                              "497", "1491", "497", "1491", "497", "497", "497", "497", "497", "497", 
                              "497", "497", "497", "497", "497", "497", "497", "1491", "497", "497", 
                              "497", "497", "497", "1491", "497", "497", "497", "497", "497", "497", 
                              "497", "1491", "497", "497", "497", "1491", "497", "1491", "497", "497", 
                              "497", "1491", "497", "1491", "497", "1491", "497", "46221", "4473", "3976", 
                              "497", "1491", "497", "1491", "497", "1491", "497", "497", "497", "497", 
                              "497", "497", "497", "497", "497", "497", "497", "1491", "497", "1491", 
                              "497", "1491", "497", "497", "497", "497", "497", "497", "497", "497",
                              "497", "497", "497", "497", "497", "1491", "497", "497", "497", "497", 
                              "497", "1491", "497", "497", "497", "497", "497", "497", "497", "1491", 
                              "497", "497", "497", "1491", "497", "1491", "497", "497", "497", "1491", 
                              "497", "1491", "497", "1491", "497"];

      assert.equal(true, Decoder.compareRawArrays(channelUp_data1, channelUp_data2));
      assert.equal(true, Decoder.compareRawArrays(channelUp_data1, channelUp_data3));
      done();
    });

    /**
     * Test 3
     * Number 1
     */
    it('Compares multiple buffers of the same button (Button 1)', function(done) {
      // Length 135
      var NumOne_data1 = ["4248", "4248", "531", "1593", "531", "1593", "531", "1593", "531", "531", 
                          "531", "531", "531", "531", "531", "531", "531", "531", "531", "1593", 
                          "531", "1593", "531", "1593", "531", "531", "531", "531", "531", "531", 
                          "531", "531", "531", "531", "531", "531", "531", "531", "531", "1593", 
                          "531", "531", "531", "531", "531", "531", "531", "531", "531", "531", 
                          "531", "1593", "531", "1593", "531", "531", "531", "1593", "531", "1593", 
                          "531", "1593", "531", "1593", "531", "1593", "531", "46728", "4248", "4248", 
                          "531", "1593", "531", "1593", "531", "1593", "531", "531", "531", "531", 
                          "531", "531", "531", "531", "531", "531", "531", "1593", "531", "1593", 
                          "531", "1593", "531", "531", "531", "531", "531", "531", "531", "531",
                          "531", "531", "531", "531", "531", "531", "531", "1593", "531", "531", 
                          "531", "531", "531", "531", "531", "531", "531", "531", "531", "1593", 
                          "531", "1593", "531", "531", "531", "1593", "531", "1593", "531", "1593", 
                          "531", "1593", "531", "1593", "531"];

      // Length 135
      var NumOne_data2 = ["4184", "4184", "523", "1569", "523", "1569", "523", "1569", "523", "523", 
                          "523", "523", "523", "523", "523", "523", "523", "523", "523", "1569", 
                          "523", "1569", "523", "1569", "523", "523", "523", "523", "523", "523", 
                          "523", "523", "523", "523", "523", "523", "523", "523", "523", "1569", 
                          "523", "523", "523", "523", "523", "523", "523", "523", "523", "523", 
                          "523", "1569", "523", "1569", "523", "523", "523", "1569", "523", "1569", 
                          "523", "1569", "523", "1569", "523", "1569", "523", "46547", "4184", "4184", 
                          "523", "1569", "523", "1569", "523", "1569", "523", "523", "523", "523", 
                          "523", "523", "523", "523", "523", "523", "523", "1569", "523", "1569", 
                          "523", "1569", "523", "523", "523", "523", "523", "523", "523", "523",
                          "523", "523", "523", "523", "523", "523", "523", "1569", "523", "523", 
                          "523", "523", "523", "523", "523", "523", "523", "523", "523", "1569", 
                          "523", "1569", "523", "523", "523", "1569", "523", "1569", "523", "1569", 
                          "523", "1569", "523", "1569", "523"];

      // Length 135
      var NumOne_data3 = ["4509", "4008", "501", "1503", "501", "1503", "501", "1503", "501", "501", 
                          "501", "501", "501", "501", "501", "501", "501", "501", "501", "1503", 
                          "501", "1503", "501", "1503", "501", "501", "501", "501", "501", "501", 
                          "501", "501", "501", "501", "501", "501", "501", "501", "501", "1503", 
                          "501", "501", "501", "501", "501", "501", "501", "501", "501", "501", 
                          "501", "1503", "501", "1503", "501", "501", "501", "1503", "501", "1503", 
                          "501", "1503", "501", "1503", "501", "1503", "501", "46593", "4008", "4008", 
                          "501", "1503", "501", "1503", "501", "1503", "501", "501", "501", "501", 
                          "501", "501", "501", "501", "501", "501", "501", "1503", "501", "1503", 
                          "501", "1503", "501", "501", "501", "501", "501", "501", "501", "501",
                          "501", "501", "501", "501", "501", "501", "501", "1503", "501", "501", 
                          "501", "501", "501", "501", "501", "501", "501", "501", "501", "1503", 
                          "501", "1503", "501", "501", "501", "1503", "501", "1503", "501", "1503", 
                          "501", "1503", "501", "1503", "501"];

      assert.equal(true, Decoder.compareRawArrays(NumOne_data1, NumOne_data2));
      assert.equal(true, Decoder.compareRawArrays(NumOne_data1, NumOne_data3));
      done();
    });

    /**
     * Test 4
     * Power Button
     */
    it("Compares multiple buffers of the same button (Power Button)", function(done){
      powerButton_data1 = ["4184", "4184", "523", "1569", "523", "1569", "523", "1569", "523", "523", 
                          "523", "523", "523", "523", "523", "523", "523", "523", "523", "1569", 
                          "523", "1569", "523", "1569", "523", "523", "523", "523", "523", "523", 
                          "523", "523", "523", "523", "523", "523", "523", "1569", "523", "523", 
                          "523", "523", "523", "523", "523", "523", "523", "523", "523", "523", 
                          "523", "1569", "523", "523", "523", "1569", "523", "1569", "523", "1569", 
                          "523", "1569", "523", "1569", "523", "1569", "523", "46547", "4184", "4184", 
                          "523", "1569", "523", "1569", "523", "1569", "523", "523", "523", "523", 
                          "523", "523", "523", "523", "523", "523", "523", "1569", "523", "1569", 
                          "523", "1569", "523", "523", "523", "523", "523", "523", "523", "523",
                          "523", "523", "523", "523", "523", "1569", "523", "523", "523", "523", 
                          "523", "523", "523", "523", "523", "523", "523", "523", "523", "1569", 
                          "523", "523", "523", "1569", "523", "1569", "523", "1569", "523", "1569", 
                          "523", "1569", "523", "1569", "523"];

      powerButton_data2 = ["4008", "4008", "501", "1503", "501", "1503", "501", "1503", "501", "501", 
                          "501", "501", "501", "501", "501", "501", "501", "501", "501", "1503", 
                          "501", "1503", "501", "1503", "501", "501", "501", "501", "501", "501", 
                          "501", "501", "501", "501", "501", "501", "501", "1503", "501", "501", 
                          "501", "501", "501", "501", "501", "501", "501", "501", "501", "501", 
                          "501", "1503", "501", "501", "501", "1503", "501", "1503", "501", "1503", 
                          "501", "1503", "501", "1503", "501", "1503", "501", "46593", "4008", "4008", 
                          "501", "1503", "501", "1503", "501", "1503", "501", "501", "501", "501", 
                          "501", "501", "501", "501", "501", "501", "501", "1503", "501", "1503", 
                          "501", "1503", "501", "501", "501", "501", "501", "501", "501", "501",
                          "501", "501", "501", "501", "501", "1503", "501", "501", "501", "501", 
                          "501", "501", "501", "501", "501", "501", "501", "501", "501", "1503", 
                          "501", "501", "501", "1503", "501", "1503", "501", "1503", "501", "1503", 
                          "501", "1503", "501", "1503", "501"];

      powerButton_data3 = ["4473", "3976", "497", "1491", "497", "1491", "497", "1491", "497", "497", 
                          "497", "497", "497", "497", "497", "497", "497", "497", "497", "1491", 
                          "497", "1491", "497", "1491", "497", "497", "497", "497", "497", "497", 
                          "497", "497", "497", "497", "497", "497", "497", "1491", "497", "497", 
                          "497", "497", "497", "497", "497", "497", "497", "497", "497", "497", 
                          "497", "1491", "497", "497", "497", "1491", "497", "1491", "497", "1491",
                          "497", "1491", "497", "1491", "497", "1491", "497", "46718", "3976", "4473", 
                          "497", "1491", "497", "1491", "497", "1491", "497", "497", "497", "497", 
                          "497", "497", "497", "497", "497", "497", "497", "1491", "497", "1491", 
                          "497", "1491", "497", "497", "497", "497", "497", "497", "497", "497",
                          "497", "497", "497", "497", "497", "1491", "497", "497", "497", "497", 
                          "497", "497", "497", "497", "497", "497", "497", "497", "497", "1491", 
                          "497", "497", "497", "1491", "497", "1491", "497", "1491", "497", "1491", 
                          "497", "1491", "497", "1491", "497"];

      assert.equal(true, Decoder.compareRawArrays(powerButton_data1, powerButton_data2));
      assert.equal(true, Decoder.compareRawArrays(powerButton_data1, powerButton_data3));
      done();
    });



    /**
     * Test DVD buttons
     */
    it("Compares the buttons 1 & 2 against each other of an Universal remote control in DVD Settings", function(done){
      // decoded: _010111100111111110011111111111111110__010111100111111110011111111111111110__010111100111111110011111111111111110
      let num1_v1 = ["2485","710","355","710","355","355","355","355","1065","1065","355","355","355","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","355","355","355","355","355","355","355","710","84490","2485","710","355","710","355","355","355","355","1065","1065","355","355","355","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","355","355","355","355","355","355","355","710","84490","2485","710","355","710","355","355","355","355","1065","1065","355","355","355","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","355","355","355","355","355","355","355","710"];
      // decoded = _010111100111111110011111111111111110__010111100111111110011111111111111110
      let num1_v2 = ["2430","810","405","810","405","405","405","405","1215","1215","405","405","405","405","405","405","405","405","810","810","405","405","405","405","405","405","405","405","405","405","405","405","405","405","405","405","810","84645","2430","810","405","810","405","405","405","405","1215","1215","405","405","405","405","405","405","405","405","810","810","405","405","405","405","405","405","405","405","405","405","405","405","405","405","405","405","810"];


      // Number 2
      // decoded: _01011111001111111110011111111111111001__01011111001111111110011111111111111001__01011111001111111110011111111111111001
      let num2_v1 = ["2485","710","355","710","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","355","355","355","355","355","710","710","355","84135","2485","710","355","710","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","355","355","355","355","355","710","710","355","84135","2485","710","355","710","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","355","355","355","355","355","710","710","355"];

      let num2_v2 = ["2457","702","351","702","351","351","351","351","351","702","702","351","351","351","351","351","351","351","351","351","702","702","351","351","351","351","351","351","351","351","351","351","351","351","351","351","702","702","351","84240","2457","702","351","702","351","351","351","351","351","702","702","351","351","351","351","351","351","351","351","351","702","702","351","351","351","351","351","351","351","351","351","351","351","351","351","351","702","702","351","84240","2457","702","351","702","351","351","351","351","351","702","702","351","351","351","351","351","351","351","351","351","702","702","351","351","351","351","351","351","351","351","351","351","351","351","351","351","702","702","351","84240","2457","702","351","702","351","351","351","351","351","702","702","351","351","351","351","351","351","351","351","351","702","702","351","351","351","351","351","351","351","351","351","351","351","351","351","351","702","702","351","84240","2457","702","351","702","351","351","351","351","351","702","702","351","351","351","351","351","351","351","351","351","702","702","351","351","351","351","351","351","351","351","351","351"];
      // decoded: _01011111001111111110011111111111111001__01011111001111111110011111111111111001__01011111001111111110011111111111111001__01011111001111111110011111111111111001
      let num2_v3 = ["2485","710","355","710","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","355","355","355","355","355","710","710","355","84135","2485","710","355","710","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","355","355","355","355","355","710","710","355","84135","2485","710","355","710","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","355","355","355","355","355","710","710","355","84135","2485","710","355","710","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","710","710","355","355","355","355","355","355","355","355","355","355","355","355","355","355","710","710","355"];
      
      assert.equal(Decoder.compareRawArrays(num1_v1, num1_v2), true); 
      assert.equal(Decoder.compareRawArrays(num2_v1, num2_v2), true);  
      assert.equal(Decoder.compareRawArrays(num2_v2, num2_v3), true);  
      assert.equal(Decoder.compareRawArrays(num2_v1, num2_v3), true);  

      assert.equal(Decoder.compareRawArrays(num1_v1, num2_v1), false);
      assert.equal(Decoder.compareRawArrays(num1_v1, num2_v2), false);
      assert.equal(Decoder.compareRawArrays(num1_v1, num2_v3), false);
      assert.equal(Decoder.compareRawArrays(num1_v2, num2_v1), false);
      assert.equal(Decoder.compareRawArrays(num1_v2, num2_v2), false);
      assert.equal(Decoder.compareRawArrays(num1_v2, num2_v3), false);

      done();
    });


    it("Verifies the APPLE Protocol", function(done){
      const apple_right_1 = ["154", "330", "1067", "286", "253", "374", "143", "440", "154", "682", "77", "462", "187", "352", "165", "308", "11", "2420", "209", "847", "143", "2134", "385", "1837", "187", "2244", "55", "1100", "143", "1804", "231", "1958", "121", "2068", "462", "1771", "385", "1848", "209", "1980", "143", "1045", "143", "913", "187", "913", "385", "759", "187", "2002", "209", "880", "462", "1771", "440", "1771", "440", "693", "209", "869", "440", "671", "484", "649", "473", "682", "385", "649", "462", "649", "440", "462", "11", "55", "1793", "319", "803", "429", "638", "484", "1782", "132", "1529", "2222", "341", "792", "2332", "462"];
      const apple_right_2 = ["9010", "4240", "530", "530", "530", "1590", "530", "1590", "530", "1590", "530", "530", "530", "1590", "530", "1590", "530", "1590", "530", "1590", "530", "1590", "530", "1590", "530", "530", "530", "530", "530", "530", "530", "530", "530", "1590", "530", "530", "530", "1590", "530", "1590", "530", "530", "530", "530", "530", "530", "530", "530", "530", "530", "530"];
      const apple_right_3 = ["2940", "1404", "552", "564", "552", "1656", "576", "1644", "576", "1644", "588", "528", "600", "1620", "552", "2592", "12", "1296", "576", "1644", "576", "1656", "540", "1644", "564", "552", "576", "540", "564", "552", "564", "552", "564", "1656", "540", "576", "540", "1668", "564", "1644", "564", "564", "552", "564", "552", "576", "552", "564", "552", "564", "552", "564", "564", "540", "552", "1668", "564", "564", "564", "1632", "552", "564", "552", "564", "588", "1644", "588", "540", "2976", "2232", "588"];
      const apple_right_4 = ["5904", "328", "2624", "4592", "492", "492", "328", "1640", "164", "1968", "164", "1804", "328", "492", "164", "1968", "328", "1640", "328", "1640", "492", "1804", "328", "1640", "328", "1640", "328", "656", "328", "492", "164", "820", "328", "492", "328", "1804", "328", "492", "328", "1640", "328", "1640", "328", "656", "328", "492", "328", "656", "328", "492", "492", "492", "492", "492", "328", "492", "492", "1476", "492", "492", "328", "1640", "492", "492", "492", "492", "164", "1968", "328", "40508", "8856", "2296", "328"]
      // Direct burst (trusted)
      const apple_right_5 = ["2964","1368","588","540","564","1644","588","456","12","288","564","564","588","1632","564","1644","564","1656","564","1632","588","1632","552","1668","588","528","552","540","600","540","540","576","576","1620","576","540","576","1644","576","1644","576","492","624","492","576","540","612","528","588","528","564","564","564","540","564","1608","600","540","564","1608","564","540","600","528","552","1656","624","528","2940","2208","564"];
  
      // Direct
      const apple_left_1 = ["8640","4320","540","540","540","1620","540","1620","540","1620","540","540","540","1620","540","1620","540","1620","540","1620","540","1620","540","1620","540","540","540","540","540","540","540","540","540","1620","540","1620","540","540","540","540","540","1620","540","540","540","540","540","540","540","540","540","540","540","540","540","1620","540","540","540","1620","540","540","540","540","540","1620","540"];
      const apple_left_2 = ["137","274","137","274","137","411","137","548","137","274","137","411","137","685","137","274","137","274","274","2192","685","4384","411","548","411","1644","137","2055","137","1781","411","548","411","1644","411","1644","411","1644","411","1644","274","1918","274","1644","548","548","411","548","411","548","548","548","411","1644","411","1781","411","548","137","822","411","1781","411","548","411","548","411","685","274","685","411","548","411","548","411","1781","411","685","411","1644","411","548","411","548","411","1644","411"];
      const apple_left_3 = ["8856","4428","492","492","492","1476","492","1476","492","1476","492","492","492","1476","492","1476","492","1476","492","1476","492","1476","492","1476","492","492","492","492","492","492","492","492","492","1476","492","1476","492","492","492","492","492","1476","492","492","492","492","492","492","492","492","492","492","492","492","492","1476","492"];
      const apple_left_4 = ["963","321","107","321","107","428","214","321","856","214","107","321","107","321","535","428","214","321","214","321","535","428","214","4494","428","535","321","1712","535","1712","321","1819","321","749","321","1712","107","2033","428","1712","214","1926","428","1605","428","1712","428","642","321","642","428","642","214","749","321","1712","428","1712","214","856","214","856","428","1712","428","535","428","535","428","642","214","856","214","749","214","856","428","1712","428","642","428","1712","321","642","107","856","428","1712","428","13161","749","321","214","214","1712","321","2889","214","2033","2247","107"];
      // Hold continuously
      const apple_left_5 = ["9044","4256","532","532","532","1596","532","1596","532","1596","532","532","532","1596","532","1596","532","1596","532","1596","532","1596","532","1596","532","532","532","532","532","532","532","532","532","1596","532","1596","532","532","532","532","532","1596","532","532","532","532","532","532","532","532","532","532","532","532","532","1596","532","532","532","1596","532","532","532","532","532","1596","532","40432","9044","2128","532","95760","9044","2128","532","95760","9044","2128","532","95760","9044","2128","532"];
      // Still holding 
      const apple_left_5_1 = ["8832","2208","552","96048","8832","2208","552","96048","8832","2208","552","96048","8832","2208","552","96048","8832","2208","552"];
      const apple_left_5_2 = ["8832","2208","552","96048","8832","2208","552","96048","8832","2208","552","96048","8832","2208","552","96048","8832","2208","552"]
      const apple_left_5_3 = ["8670","1734","578","95948","8670","1734","578","95948","8670","1734","578","95948","8670","1734","578","95948","8670","1734","578"]
    
      assert.equal(Decoder.compareRawArrays(apple_right_1, apple_right_2), true); 
      assert.equal(Decoder.compareRawArrays(apple_right_2, apple_right_3), true); 
      assert.equal(Decoder.compareRawArrays(apple_right_1, apple_right_4), true); 
      assert.equal(Decoder.compareRawArrays(apple_right_1, apple_right_5), true); 
    });  

});
